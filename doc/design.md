# IMEのモードの各種デフォルト値

[IMC_GETCONVERSIONMODE の挙動 - Gboard コミュニティ](https://support.google.com/gboard/thread/10304844/imc-getconversionmode-%E3%81%AE%E6%8C%99%E5%8B%95?hl=ja)や[(AutoHotkey)(IMEの制御をする 編) - もらかなです。](https://morakana.hatenadiary.org/entry/20080213/1202876561)を参考にモードの値を取得。
MSのドキュメントを呼んでもよくわからなかった。

> 調査してみると、Google日本語入力では、
> Message = WM_IME_CONTROL  wParam  = MC_GETCONVERSIONMODE
> に対する挙動が想定とは異なることがわかりました。
> Microsoft IME や ATOK では以下の値となります。
> 
> ;   DEC  HEX    BIN
> ;     0 (0x00  0000 0000) かな    半英数
> ;     3 (0x03  0000 0011)         半ｶﾅ
> ;     8 (0x08  0000 1000)         全英数
> ;     9 (0x09  0000 1001)         ひらがな
> ;    11 (0x0B  0000 1011)         全カタカナ
> ;    16 (0x10  0001 0000) ローマ字半英数
> ;    19 (0x13  0001 0011)         半ｶﾅ
> ;    24 (0x18  0001 1000)         全英数
> ;    25 (0x19  0001 1001)         ひらがな
> ;    27 (0x1B  0001 1011)         全カタカナ
> google日本語入力のローマ字・ひらがなモードでは、最初は 9 となります。
> 全カタカナまたは半カナを選択したのちに、ひらがなに戻すと 25 となります。
>  ;   DEC  HEX    BIN
> ;    25 (0x19  0001 1001)  or  9 (0x09  0000 1001)         ひらがな
> https://blechmusik.xii.jp/misc/wiliki.cgi?misc%3Asoftware%3AAutoHotkey%3Aime.ahk

> この[]状態一覧表[]
> []	 0 = かな入力 半角英数[]
> []	 3 = かな入力 半角カナ[]
> []	 8 = かな入力 全角英数[]
> []	 9 = かな入力 全角ひらがな[]
> []	11 = かな入力 全角カタカナ[]
> []	16 = ローマ字入力 半角英数[]
> []	19 = ローマ字入力 半角カタカナ[]
> []	24 = ローマ字入力 全角英数[]
> []	25 = ローマ字入力 全角ひらがな[]
> []	27 = ローマ字入力 全角カタカナ[]スクリプトを動作させると、マウスカーソルの近傍にIMEに関する各種情報が表示されます。


## TSF版Google日本語入力ほかでの課題

TSF版Google日本語入力だとうまく値が取れないらしい。

